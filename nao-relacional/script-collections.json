bd.create_collection("cliente", validator= {
    "$jsonSchema": {
        "bsonType":"object",
        "title": "Validacao de esquema",
        "required": ["nome", "cpf", "email", "endereco"],
        "properties": {
            "nome": {
                "bsonType": "string",
                "description": "Nome do cliente - Campo obrigatório do tipo string!"
            },
            "cpf": {
                "bsonType": "string",
                "description": "Cpf do cliente - Campo obrigatório do tipo string!"
            },
            "email": {
                "bsonType": "string",
                "description": "Email do cliente - Campo obrigatório do tipo string!"
            },
            "endereco": {
                "bsonType":"array",
                "required": ["cep", "numero"],
                "properties": {
                    "cep": {
                        "bsonType":"string",
                        "description": "CEP - Campo obrigatório do tipo string!"
                    },
                    "numero": {
                        "bsonType":"int",
                        "description": "Número do endereço - Campo obrigatório do tipo string!"
                    },
                    "complemento": {
                        "bsonType":"string",
                        "description": "Complemento do endereço - Campo opcional do tipo string!"
                    }
                }
            }
        }
    }
})

bd.create_collection("categoria", validator= {
    "$jsonSchema": {
        "bsonType":"object",
        "title": "Validacao de esquema",
        "required": ["nome"],
        "properties": {
            "nome": {
                "bsonType": "string",
                "description": "Nome da categoria - Campo obrigatório do tipo string!"
            }
        }
    }
})

bd.create_collection("produto", validator= {
    "$jsonSchema": {
        "bsonType":"object",
        "title": "Validacao de esquema",
        "required": ["nome", "preco", "id_categoria"],
        "properties": {
            "nome": {
                "bsonType": "string",
                "description": "Nome do produto - Campo obrigatório do tipo string!"
            },
            "preco": {
                "bsonType": "decimal",
                "description": "Preco do produto - Campo obrigatório do tipo decimal!"
            },
            "id_categoria": {
                "bsonType": "objectId",
                "description": "Id da categoria do produto - Campo obrigatório do tipo ObjectId!"
            },
            "avalicao": {
                "bsonType": "array",
                "required": ["id_cliente", "nota"],
                "properties": {
                    "id_cliente": {
                        "bsonType": "objectId",
                        "description": "Id do cliente - Campo obrigatório do tipo objectId!"
                    },
                    "nota": {
                        "bsonType": "int",
                        "description": "Nota da avaliação - Campo obrigatório do tipo int!"
                    },
                    "comentario": {
                        "bsonType": "string",
                        "description": "Comentário da avaliação - Campo opcional do tipo string!"
                    }
                }
            }
        }
    }
})

bd.create_collection("transportadora", validator= {
    "$jsonSchema": {
        "bsonType":"object",
        "title": "Validacao de esquema",
        "required": ["nome", "email"],
        "properties": {
            "nome": {
                "bsonType": "string",
                "description": "Nome da transportadora - Campo obrigatório do tipo string!"
            },
            "email": {
                "bsonType": "string",
                "description": "Email - Campo obrigatório do tipo string!"
            }
        }
    }
})

bd.create_collection("pedido", validator= {
    "$jsonSchema": {
        "bsonType":"object",
        "title": "Validacao de esquema",
        "required": ["data_hora", "forma_pgto", "item", "id_cliente", "id_endereco"],
        "properties": {
            "data_hora": {
                "bsonType": "date",
                "description": "Momento em que foi efetuado o pedido - Campo obrigatório do tipo date!"
            },
            "forma_pgto": {
                "bsonType": "string",
                "description": "Forma de pagamento - Campo obrigatório do tipo string!"
            },
            "item": {
                "bsonType": "array",
                "required": ["produto", "quantidade", "data_entrega", "status", "id_transportadora"],
                "properties": {
                    "produto": {
                        "bsonType": "objectId",
                        "description": "Id do produto - Campo obrigatório do tipo objectId!"
                    },
                    "quantidade": {
                        "bsonType": "int",
                        "description": "Quantidade - Campo obrigatório do tipo int!"
                    },
                    "data_entrega": {
                        "bsonType": "date",
                        "description": "Data prevista para entrega - Campo obrigatório do tipo date!"
                    },
                    "status": {
                        "bsonType": "string",
                        "description": "Status da compra - Cmapo obrigatório do tipo string!"
                    },
                    "id_transportadora": {
                        "bsonType": "objectId",
                        "description": "Id da transportadora - Campo obrigatório do tipo objectId!"
                    }
                }
            },
            "id_cliente": {
                "bsonType": "objectId",
                "description": "Id do cliente - Campo obrigatório do tipo objetcId!"
            },
            "id_endereco": {
                "bsonType": "objectId",
                "description": "Id do endereco - Campo obrigatório do tipo objetcId!"
            }
        }
    }
})